/*!
 * Artalk v1.0.4
 * (c) 2016-2020 qwqaq.com
 * Link: https://github.com/qwqcode/Artalk
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Artalk",[],t):"object"==typeof exports?exports.Artalk=t():e.Artalk=t()}(window,function(){return d=[function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){var r=n(20);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(11),a=n(8);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},function(i,l,s){var e,t,n;t=[l,s(0),s(9)],void 0===(n="function"==typeof(e=function(e,t,n){"use strict";var r=s(1);Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,t=r(t);var a=function e(){(0,t["default"])(this,e);this.artalk=n.ArtalkInstance};(e["default"]=a).displayName="ArtalkContext",i.exports=l.default})?e.apply(l,t):e)||(i.exports=n)},function(i,l,s){var e,t,n;t=[l,s(0),s(2)],void 0===(n="function"==typeof(e=function(e,t,n){"use strict";var r=s(1);Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,t=r(t),n=r(n);var a=function(){function e(){(0,t["default"])(this,e)}(0,n["default"])(e,null,[{key:"createElement",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=document.createElement("div");n.innerHTML=t.trim();return n.firstElementChild||n}},{key:"getHeight",value:function e(t){return parseFloat(getComputedStyle(t,null).height.replace("px",""))}},{key:"htmlEncode",value:function e(t){var n=document.createElement("div");n.innerText=t;var r=n.innerHTML;n=null;return r}},{key:"htmlDecode",value:function e(t){var n=document.createElement("div");n.innerHTML=t;var r=n.innerText;n=null;return r}},{key:"getLocationParmByName",value:function e(t){var n=RegExp("[?&]".concat(t,"=([^&]*)")).exec(window.location.search);return n&&decodeURIComponent(n[1].replace(/\+/g," "))}},{key:"getOffset",value:function e(t){var n=t.getBoundingClientRect();return{top:n.top+window.scrollY,left:n.left+window.scrollX}}}]);return e}();(e["default"]=a).displayName="Utils",i.exports=l.default})?e.apply(l,t):e)||(i.exports=n)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,h){var n,r,a;r=[t,h(0),h(2),h(15),h(16),h(18),h(19),h(38),h(44),h(47)],void 0===(a="function"==typeof(n=function(n,r,e,t,l,s,a,i,o,c){"use strict";var u=h(1);Object.defineProperty(n,"__esModule",{value:true}),n["default"]=n.ArtalkInstance=void 0,r=u(r),e=u(e),l=u(l),s=u(s),a=u(a),i=u(i),o=u(o),c=u(c);var d={el:"",placeholder:"来啊，快活啊 (/ω＼)",noComment:"快来成为第一个评论的人吧~",defaultAvatar:"mp",pageKey:"",serverUrl:"",emoticons:h(48),gravatar:{cdn:"https://gravatar.loli.net/avatar/"}},f=null;n.ArtalkInstance=f;var p=function(){function t(e){(0,r["default"])(this,t);this.conf=e;console.log("\n %c "+"Artalk v".concat("1.0.4"," %c 一款简洁有趣的自托管评论系统 \n\n%c")+"> https://artalk.js.org\n"+"> https://github.com/qwqcode/Artalk\n"+"> https://qwqaq.com\n","color: #FFF; background: #1DAAFF; padding:5px 0;","color: #FFF; background: #656565; padding:5px 0;","");n.ArtalkInstance=f=this;this.conf=Object.assign(d,this.conf);try{this.el=document.querySelector(this.conf.el);if(this.el===null){throw Error('Sorry, Target element "'.concat(this.conf.el,'" was not found.'))}}catch(e){console.error(e);throw new Error("Artalk config `el` error")}this.el.classList.add("artalk");this.ui=new c["default"];this.initUser();this.initMarked();this.editor=new a["default"];this.list=new i["default"];this.sidebar=new o["default"]}(0,e["default"])(t,[{key:"initUser",value:function e(){var t=JSON.parse(window.localStorage.getItem("ArtalkUser")||"{}");this.user={nick:t.nick||"",email:t.email||"",link:t.link||"",password:t.password||"",isAdmin:t.isAdmin||false}}},{key:"saveUser",value:function e(){window.localStorage.setItem("ArtalkUser",JSON.stringify(this.user))}},{key:"checkHasBasicUserInfo",value:function e(){return!!this.user.nick&&!!this.user.email}},{key:"initMarked",value:function e(){var a=new l["default"].Renderer;var i=a.link;a.link=function(e,t,n){var r=i.call(a,e,t,n);return r.replace(/^<a /,'<a target="_blank" rel="nofollow" ')};var t=l["default"];t.setOptions({renderer:a,highlight:function e(t){return(0,s["default"])(t)},pedantic:false,gfm:true,tables:true,breaks:true,sanitize:true,smartLists:true,smartypants:true,xhtml:false});this.marked=t}},{key:"request",value:function e(t,n,r,a,i,l){r();n=Object.assign({action:t},n);var s=new FormData;Object.keys(n).forEach(function(e){return s.set(e,n[e])});var o=new XMLHttpRequest;o.timeout=5e3;o.open("POST",this.conf.serverUrl,true);o.onload=function(){a();if(o.status>=200&&o.status<400){var e=JSON.parse(o.response);if(e.success){i(e.msg,e.data)}else{l(e.msg,e.data)}}else{l("服务器响应错误 Code: ".concat(o.status),{})}};o.onerror=function(){a();l("网络错误",{})};o.send(s)}}]);return t}();(n["default"]=p).displayName="Artalk"})?n.apply(t,r):n)||(e.exports=a)},function(m,g,v){var e,t,n;t=[g,v(0),v(2),v(8),v(3),v(4),v(5),v(22),v(23),v(6),v(7)],void 0===(n="function"==typeof(e=function(e,l,t,s,n,a,i,r,o,c,u){"use strict";var d=v(1);function f(r){return function(){var e=(0,i["default"])(r),t;if(p()){var n=(0,i["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,a["default"])(this,t)}}function p(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,l=d(l),t=d(t),s=d(s),n=d(n),a=d(a),i=d(i),o=d(o),c=d(c),u=d(u);var h=function(e){(0,n["default"])(i,e);var a=f(i);function i(e,t){var n;(0,l["default"])(this,i);n=a.call(this);n.list=e;n.data=t;n.maxNestedNo=3;n.children=[];n.data=Object.assign({},n.data);n.elem=u["default"].createElement(v(24)((0,s["default"])(n)));n.contentEl=n.elem.querySelector(".artalk-content");n.actionsEl=n.elem.querySelector(".artalk-comment-actions");n.parent=null;n.nestedNum=1;n.childrenEl=null;n.actionsEl.querySelector('[data-comment-action="reply"]').addEventListener("click",function(){n.artalk.editor.setReply((0,s["default"])(n))});var r=n.actionsEl.querySelector('[data-comment-action="delete"]');r.addEventListener("click",function(){n.adminDelete(n.data.id,r)});return n}(0,t["default"])(i,[{key:"getIsRoot",value:function e(){return this.parent===null}},{key:"setChild",value:function e(t){this.children.push(t);this.getChildrenEl().appendChild(t.getElem());t.parent=this;t.nestedNum=this.nestedNum+1;t.playFadeInAnim();this.list.refreshUI()}},{key:"getChildren",value:function e(){return this.children}},{key:"getChildrenEl",value:function e(){if(this.childrenEl===null){if(this.nestedNum<this.maxNestedNo){this.childrenEl=u["default"].createElement('<div class="artalk-comment-children"></div>');this.contentEl.appendChild(this.childrenEl)}else{this.childrenEl=this.parent.getChildrenEl()}}return this.childrenEl}},{key:"getParent",value:function e(){return this.parent}},{key:"getElem",value:function e(){return this.elem}},{key:"getData",value:function e(){return this.data}},{key:"getGravatarUrl",value:function e(){return"".concat(this.artalk.conf.gravatar.cdn).concat(this.data.email_encrypted,"?d=").concat(encodeURIComponent(this.artalk.conf.defaultAvatar),"&s=80")}},{key:"getContentMarked",value:function e(){return this.artalk.marked(this.data.content)}},{key:"padWithZeros",value:function e(t,n){var r=t.toString();while(r.length<n){r="0".concat(r)}return r}},{key:"dateFormat",value:function e(t){var n=this.padWithZeros(t.getDate(),2);var r=this.padWithZeros(t.getMonth()+1,2);var a=this.padWithZeros(t.getFullYear(),2);return"".concat(a,"-").concat(r,"-").concat(n)}},{key:"timeAgo",value:function e(t){try{var n=t.getTime();var r=(new Date).getTime();var a=r-n;var i=Math.floor(a/(24*3600*1e3));if(i===0){var l=a%(24*3600*1e3);var s=Math.floor(l/(3600*1e3));if(s===0){var o=l%(3600*1e3);var c=Math.floor(o/(60*1e3));if(c===0){var u=o%(60*1e3);var d=Math.round(u/1e3);return"".concat(d," 秒前")}return"".concat(c," 分钟前")}return"".concat(s," 小时前")}if(i<0)return"刚刚";if(i<8){return"".concat(i," 天前")}return this.dateFormat(t)}catch(e){console.error(e);return" - "}}},{key:"getUserUaBrowser",value:function e(){var t=(0,o["default"])(this.data.ua);return"".concat(t.browser," ").concat(t.version)}},{key:"getUserUaOS",value:function e(){var t=(0,o["default"])(this.data.ua);return"".concat(t.os," ").concat(t.osVersion)}},{key:"playFadeInAnim",value:function e(){var t=this;this.elem.classList.add("artalk-fade-in");var n=function e(){t.elem.classList.remove("artalk-fade-in");t.elem.removeEventListener("animationend",e)};this.elem.addEventListener("animationend",n)}},{key:"adminDelete",value:function e(t,n){var r=this;var a=this.list.findComment(t);if(!a)throw Error("未找到评论 ".concat(t));if(n.classList.contains("artalk-in-process"))return;var i=Number(n.getAttribute("data-btn-clicked")||1);if(i<2){if(i===1){var l=n.innerText;n.innerText="确认删除";setTimeout(function(){n.innerText=l;n.setAttribute("data-btn-clicked","")},2e3);n.setAttribute("data-btn-clicked",String(i+1))}return}var s=n.innerText;this.artalk.request("CommentDel",{id:t,nick:this.artalk.user.nick,email:this.artalk.user.email,password:this.artalk.user.password},function(){n.classList.add("artalk-in-process");n.innerText="删除中..."},function(){n.innerText=s},function(e,t){r.list.deleteComment(a);r.list.refreshUI();n.classList.remove("artalk-in-process")},function(e,t){n.classList.add("artalk-error");n.innerText="删除失败";setTimeout(function(){n.innerText=s;n.classList.remove("artalk-error");n.classList.remove("artalk-in-process")},2e3)})}}]);return i}(c["default"]);(e["default"]=h).displayName="Comment",m.exports=g.default})?e.apply(g,t):e)||(m.exports=n)},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(e){return typeof e}:t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.exports=n},function(f,p,h){var e,t,n;t=[p,h(0),h(2),h(3),h(4),h(5),h(6),h(7)],void 0===(n="function"==typeof(e=function(e,i,t,n,a,l,r,s){"use strict";var o=h(1);function c(r){return function(){var e=(0,l["default"])(r),t;if(u()){var n=(0,l["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,a["default"])(this,t)}}function u(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,i=o(i),t=o(t),n=o(n),a=o(a),l=o(l),r=o(r),s=o(s);var d=function(e){(0,n["default"])(a,e);var r=c(a);function a(e,t){var n;(0,i["default"])(this,a);n=r.call(this);n.name=e;n.maskClickHideEnable=true;n.initWrap();n.el=n.wrapEl.querySelector('[data-layer-name="'.concat(e,'"]'));if(n.el!==null)throw new Error('layer "'.concat(e,'" 已存在'));if(!t){n.el=s["default"].createElement();n.el.classList.add("artalk-layer-item")}else{n.el=t}n.el.setAttribute("data-layer-name",e);n.el.style.display="none";n.wrapEl.prepend(n.el);return n}(0,t["default"])(a,[{key:"initWrap",value:function e(){this.wrapEl=document.querySelector(".artalk-layer-wrap");if(!this.wrapEl){this.wrapEl=s["default"].createElement('<div class="artalk-layer-wrap" style="display: none;"><div class="artalk-layer-mask"></div></div>');document.body.appendChild(this.wrapEl)}this.maskEl=this.wrapEl.querySelector(".artalk-layer-mask")}},{key:"getName",value:function e(){return this.name}},{key:"getWrapEl",value:function e(){return this.wrapEl}},{key:"getEl",value:function e(){return this.el}},{key:"show",value:function e(){var t=this;a.hideTimeoutList.forEach(function(e){clearTimeout(e)});a.hideTimeoutList=[];this.wrapEl.style.display="block";this.maskEl.style.display="block";this.maskEl.classList.add("artalk-fade-in");this.el.style.display="";this.maskEl.onclick=function(){if(t.maskClickHideEnable)t.hide()};document.body.style.overflow="hidden"}},{key:"hide",value:function e(){var t=this;a.hideTimeoutList.push(setTimeout(function(){t.wrapEl.style.display="none"},450));this.wrapEl.classList.add("artalk-fade-out");a.hideTimeoutList.push(setTimeout(function(){t.wrapEl.style.display="none";t.wrapEl.classList.remove("artalk-fade-out")},200));this.el.style.display="none";document.body.style.overflow=""}},{key:"setMaskClickHide",value:function e(t){this.maskClickHideEnable=t}},{key:"dispose",value:function e(){this.hide();this.el.remove();this.el=null}}]);return a}(r["default"]);(e["default"]=d).displayName="Layer",d.hideTimeoutList=[],f.exports=p.default})?e.apply(p,t):e)||(f.exports=n)},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){e.exports=n(9)},function(e,t,n){},function(v,e,t){(function(e){!function(){"use strict";var y={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:d,table:d,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function o(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||g.defaults,this.rules=y.normal,this.options.pedantic?this.rules=y.pedantic:this.options.gfm&&(this.rules=y.gfm)}y._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,y.def=e(y.def).replace("label",y._label).replace("title",y._title).getRegex(),y.bullet=/(?:[*+-]|\d{1,9}\.)/,y.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,y.item=e(y.item,"gm").replace(/bull/g,y.bullet).getRegex(),y.list=e(y.list).replace(/bull/g,y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+y.def.source+")").getRegex(),y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",y._comment=/<!--(?!-?>)[\s\S]*?-->/,y.html=e(y.html,"i").replace("comment",y._comment).replace("tag",y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y.paragraph=e(y._paragraph).replace("hr",y.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",y._tag).getRegex(),y.blockquote=e(y.blockquote).replace("paragraph",y.paragraph).getRegex(),y.normal=p({},y),y.gfm=p({},y.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),y.pedantic=p({},y.normal,{html:e("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:d,paragraph:e(y.normal._paragraph).replace("hr",y.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",y.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),o.rules=y,o.lex=function(e,t){return new o(t).lex(e)},o.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},o.prototype.token=function(e,t){var n,r,a,i,l,s,o,c,u,d,f,p,h,m,g,v;for(e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),1<a[0].length&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e)){var k=this.tokens[this.tokens.length-1];e=e.substring(a[0].length),k&&"paragraph"===k.type?k.text+="\n"+a[0].trimRight():(a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?a:w(a,"\n")}))}else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2]?a[2].trim():a[2],text:a[3]||""});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if((a=this.rules.nptable.exec(e))&&(s={type:"table",header:x(a[1].replace(/^ *| *\| *$/g,"")),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3]?a[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(a[0].length),f=0;f<s.align.length;f++)/^ *-+: *$/.test(s.align[f])?s.align[f]="right":/^ *:-+: *$/.test(s.align[f])?s.align[f]="center":/^ *:-+ *$/.test(s.align[f])?s.align[f]="left":s.align[f]=null;for(f=0;f<s.cells.length;f++)s.cells[f]=x(s.cells[f],s.header.length);this.tokens.push(s)}else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),o={type:"list_start",ordered:m=1<(i=a[2]).length,start:m?+i:"",loose:!1},this.tokens.push(o),n=!(c=[]),h=(a=a[0].match(this.rules.item)).length,f=0;f<h;f++)d=(s=a[f]).length,~(s=s.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+d+"}","gm"),"")),f!==h-1&&(l=y.bullet.exec(a[f+1])[0],(1<i.length?1===l.length:1<l.length||this.options.smartLists&&l!==i)&&(e=a.slice(f+1).join("\n")+e,f=h-1)),r=n||/\n\n(?!\s*$)/.test(s),f!==h-1&&(n="\n"===s.charAt(s.length-1),r=r||n),r&&(o.loose=!0),v=void 0,(g=/^\[[ xX]\] /.test(s))&&(v=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,"")),u={type:"list_item_start",task:g,checked:v,loose:r},c.push(u),this.tokens.push(u),this.token(s,!1),this.tokens.push({type:"list_item_end"});if(o.loose)for(h=c.length,f=0;f<h;f++)c[f].loose=!0;this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===a[1]||"script"===a[1]||"style"===a[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):b(a[0]):a[0]});else if(t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),a[3]&&(a[3]=a[3].substring(1,a[3].length-1)),p=a[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[p]||(this.tokens.links[p]={href:a[2],title:a[3]});else if((a=this.rules.table.exec(e))&&(s={type:"table",header:x(a[1].replace(/^ *| *\| *$/g,"")),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3]?a[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(a[0].length),f=0;f<s.align.length;f++)/^ *-+: *$/.test(s.align[f])?s.align[f]="right":/^ *:-+: *$/.test(s.align[f])?s.align[f]="center":/^ *:-+ *$/.test(s.align[f])?s.align[f]="left":s.align[f]=null;for(f=0;f<s.cells.length;f++)s.cells[f]=x(s.cells[f].replace(/^ *\| *| *\| *$/g,""),s.header.length);this.tokens.push(s)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2].charAt(0)?1:2,text:a[1]});else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var n={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:d,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:d,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function u(e,t){if(this.options=t||g.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.breaks?this.rules=n.breaks:this.rules=n.gfm)}function r(e){this.options=e||g.defaults}function a(){}function c(e){this.tokens=[],this.token=null,this.options=e||g.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new t}function t(){this.seen={}}function b(e,t){if(t){if(b.escapeTest.test(e))return e.replace(b.escapeReplace,function(e){return b.replacements[e]})}else if(b.escapeTestNoEncode.test(e))return e.replace(b.escapeReplaceNoEncode,function(e){return b.replacements[e]});return e}function f(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function e(n,e){return n=n.source||n,e=e||"",{replace:function(e,t){return t=(t=t.source||t).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(e,t),this},getRegex:function(){return new RegExp(n,e)}}}function i(e,t,n){if(e){try{var r=decodeURIComponent(f(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!s.test(n)&&(n=function(e,t){l[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?l[" "+e]=e+"/":l[" "+e]=w(e,"/",!0));return e=l[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}n._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",n.em=e(n.em).replace(/punctuation/g,n._punctuation).getRegex(),n._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=e(n.autolink).replace("scheme",n._scheme).replace("email",n._email).getRegex(),n._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,n.tag=e(n.tag).replace("comment",y._comment).replace("attribute",n._attribute).getRegex(),n._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,n._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,n._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,n.link=e(n.link).replace("label",n._label).replace("href",n._href).replace("title",n._title).getRegex(),n.reflink=e(n.reflink).replace("label",n._label).getRegex(),n.normal=p({},n),n.pedantic=p({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:e(/^!?\[(label)\]\((.*?)\)/).replace("label",n._label).getRegex(),reflink:e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",n._label).getRegex()}),n.gfm=p({},n.normal,{escape:e(n.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),n.gfm.url=e(n.gfm.url,"i").replace("email",n.gfm._extended_email).getRegex(),n.breaks=p({},n.gfm,{br:e(n.br).replace("{2,}","*").getRegex(),text:e(n.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),u.rules=n,u.output=function(e,t,n){return new u(t,n).output(e)},u.prototype.output=function(e){for(var t,n,r,a,i,l,s="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),s+=b(i[1]);else if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.inRawBlock=!1),e=e.substring(i[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):b(i[0]):i[0];else if(i=this.rules.link.exec(e)){var o=h(i[2],"()");if(-1<o){var c=4+i[1].length+o;i[2]=i[2].substring(0,o),i[0]=i[0].substring(0,c).trim(),i[3]=""}e=e.substring(i[0].length),this.inLink=!0,r=i[2],a=this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],t[3]):"":i[3]?i[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),s+=this.outputLink(i,{href:u.escapes(r),title:u.escapes(a)}),this.inLink=!1}else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){s+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),s+=this.renderer.strong(this.output(i[4]||i[3]||i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),s+=this.renderer.em(this.output(i[6]||i[5]||i[4]||i[3]||i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),s+=this.renderer.codespan(b(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),s+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),s+=this.renderer.del(this.output(i[1]));else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=b(this.mangle(i[1]))):n=b(i[1]),s+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.inRawBlock?s+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):b(i[0]):i[0]):s+=this.renderer.text(b(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===i[2])r="mailto:"+(n=b(i[0]));else{for(;l=i[0],i[0]=this.rules._backpedal.exec(i[0])[0],l!==i[0];);n=b(i[0]),r="www."===i[1]?"http://"+n:n}e=e.substring(i[0].length),s+=this.renderer.link(r,null,n)}return s},u.escapes=function(e){return e?e.replace(u.rules._escapes,"$1"):e},u.prototype.outputLink=function(e,t){var n=t.href,r=t.title?b(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,b(e[1]))},u.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},u.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,a=0;a<r;a++)t=e.charCodeAt(a),.5<Math.random()&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var a=this.options.highlight(e,r);null!=a&&a!==e&&(n=!0,e=a)}return r?'<pre><code class="'+this.options.langPrefix+b(r,!0)+'">'+(n?e:b(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:b(e,!0))+"</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(null===(e=i(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+b(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},r.prototype.image=function(e,t,n){if(null===(e=i(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(e){return e},a.prototype.link=a.prototype.image=function(e,t,n){return""+n},a.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new u(e.links,this.options),this.inlineText=new u(e.links,p({},this.options,{renderer:new a})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop(),this.token},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,f(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,a="",i="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(a+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(n)}return this.renderer.table(a,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var l=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,l,s);case"list_item_start":i="";var o=this.token.loose,c=this.token.checked,u=this.token.task;for(this.token.task&&(i+=this.renderer.checkbox(c));"list_item_end"!==this.next().type;)i+=o||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(i,u,c);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var d='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(d);console.log(d)}},t.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t))for(var n=t;this.seen[n]++,t=n+"-"+this.seen[n],this.seen.hasOwnProperty(t););return this.seen[t]=0,t},b.escapeTest=/[&<>"']/,b.escapeReplace=/[&<>"']/g,b.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},b.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,b.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var l={},s=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(){}function p(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function x(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,a=t;0<=--a&&"\\"===n[a];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function w(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var a=e.charAt(e.length-r-1);if(a!==t||n){if(a===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function h(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function m(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function g(e,n,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof n){r||(r=n,n=null),m(n=p({},g.defaults,n||{}));var a,i,l=n.highlight,t=0;try{a=o.lex(e,n)}catch(e){return r(e)}i=a.length;var s=function(t){if(t)return n.highlight=l,r(t);var e;try{e=c.parse(a,n)}catch(e){t=e}return n.highlight=l,t?r(t):r(null,e)};if(!l||l.length<3)return s();if(delete n.highlight,!i)return s();for(;t<a.length;t++)!function(n){"code"!==n.type?--i||s():l(n.text,n.lang,function(e,t){return e?s(e):null==t||t===n.text?--i||s():(n.text=t,n.escaped=!0,void(--i||s()))})}(a[t])}else try{return m(n=n&&p({},g.defaults,n)),c.parse(o.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||g.defaults).silent)return"<p>An error occurred:</p><pre>"+b(e.message+"",!0)+"</pre>";throw e}}d.exec=d,g.options=g.setOptions=function(e){return p(g.defaults,e),g},g.defaults=(g.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new r,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}})(),g.Parser=c,g.parser=c.parse,g.Renderer=r,g.TextRenderer=a,g.Lexer=o,g.lexer=o.lex,g.InlineLexer=u,g.inlineLexer=u.output,g.Slugger=t,g.parse=g,v.exports=g}()}).call(this,t(17))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var o=e(function(e){"use strict";var t=e.exports=function(){return new RegExp("(?:"+t.line().source+")|(?:"+t.block().source+")","gm")};t.line=function(){return/(?:^|\s)\/\/(.+?)$/gm};t.block=function(){return/\/\*([\S\s]*?)\*\//gm}}),c=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"],t;function u(e){return'<span style="color: slategray">'+e+"</span>"}return function(e,t){if(t===void 0)t={};var i=t.colors;if(i===void 0)i=c;var l=0;var s={};var n=/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/;var r=/</;var a=new RegExp("("+n.source+"|"+r.source+")|("+o().source+")","gmi");return e.replace(a,function(e,t,n){if(n){return u(n)}if(t==="<"){return"&lt;"}var r;if(s[t]){r=s[t]}else{r=i[l];s[t]=r}var a='<span style="color: #'+r+'">'+t+"</span>";l=++l%i.length;return a})}}()},function(y,b,x){var e,t,n;t=[b,x(11),x(0),x(2),x(8),x(3),x(4),x(5),x(21),x(10),x(25),x(34),x(6),x(7),x(36)],void 0===(n="function"==typeof(e=function(e,a,r,i,l,s,o,c,t,u,d,f,n,p,h){"use strict";var m=x(1);function g(r){return function(){var e=(0,c["default"])(r),t;if(v()){var n=(0,c["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,o["default"])(this,t)}}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,a=m(a),r=m(r),i=m(i),l=m(l),s=m(s),o=m(o),c=m(c),u=m(u),d=m(d),f=m(f),n=m(n),p=m(p),h=m(h);var k=function(e){(0,s["default"])(n,e);var t=g(n);function n(){var e;(0,r["default"])(this,n);e=t.call(this);e.LOADABLE_PLUG_LIST=[d["default"],f["default"]];e.plugList={};e.el=p["default"].createElement(x(37)((0,l["default"])(e)));e.artalk.el.appendChild(e.el);e.headerEl=e.el.querySelector(".artalk-editor-header");e.textareaWrapEl=e.el.querySelector(".artalk-editor-textarea-wrap");e.textareaEl=e.el.querySelector(".artalk-editor-textarea");e.plugWrapEl=e.el.querySelector(".artalk-editor-plug-wrap");e.bottomPartLeftEl=e.el.querySelector(".artalk-editor-bottom-part.artalk-left");e.plugSwitcherWrapEl=e.el.querySelector(".artalk-editor-plug-switcher-wrap");e.bottomPartRightEl=e.el.querySelector(".artalk-editor-bottom-part.artalk-right");e.submitBtn=e.el.querySelector(".artalk-send-btn");e.notifyWrapEl=e.el.querySelector(".artalk-editor-notify-wrap");e.initLocalStorage();e.initHeader();e.initTextarea();e.initEditorPlug();e.initBottomPart();return e}(0,i["default"])(n,[{key:"initLocalStorage",value:function e(){var t=this;var n=window.localStorage.getItem("ArtalkContent")||"";if(n.trim()!==""){this.showNotify("已自动恢复","i");this.setContent(n)}this.textareaEl.addEventListener("input",function(){t.saveContent()})}},{key:"initHeader",value:function e(){var r=this;Object.keys(this.user).forEach(function(t){var n=r.headerEl.querySelector('[name="'.concat(t,'"]'));if(n!==null&&n instanceof HTMLInputElement){n.value=r.user[t]||"";n.addEventListener("input",function(e){r.user[t]=n.value.trim();r.user.password="";r.user.isAdmin=false;r.saveUser();r.artalk.list.refreshUI();if(r.artalk.checkHasBasicUserInfo()&&r.artalk.list.checkNickEmailIsAdmin(r.user.nick,r.user.email)){h["default"].checkAction("管理员",function(){r.artalk.list.refreshUI()})}})}})}},{key:"saveUser",value:function e(){this.artalk.saveUser()}},{key:"saveContent",value:function e(){window.localStorage.setItem("ArtalkContent",this.getContentOriginal().trim())}},{key:"initTextarea",value:function e(){var n=this;this.textareaEl.addEventListener("keydown",function(e){var t=e.keyCode||e.which;if(t===9){e.preventDefault();n.insertContent("\t")}});this.textareaEl.addEventListener("input",function(e){n.adjustTextareaHeight()})}},{key:"adjustTextareaHeight",value:function e(){var t=this.textareaEl.offsetHeight-this.textareaEl.clientHeight;this.textareaEl.style.height="0px";this.textareaEl.style.height="".concat(this.textareaEl.scrollHeight+t,"px")}},{key:"initEditorPlug",value:function e(){var r=this;this.plugList={};var a=null;this.LOADABLE_PLUG_LIST.forEach(function(e){var n=new e(r);r.plugList[n.getName()]=n;var t=p["default"].createElement('<span class="artalk-editor-action artalk-editor-plug-switcher">'.concat(n.getBtnHtml(),"</span>"));r.plugSwitcherWrapEl.appendChild(t);t.addEventListener("click",function(){r.plugSwitcherWrapEl.querySelectorAll(".active").forEach(function(e){return e.classList.remove("active")});if(n.getName()===a){n.onHide();r.plugWrapEl.style.display="none";a=null;return}if(r.plugWrapEl.querySelector('[data-plug-name="'.concat(n.getName(),'"]'))===null){var e=n.getElem();e.setAttribute("data-plug-name",n.getName());e.style.display="none";r.plugWrapEl.appendChild(e)}Array.from(r.plugWrapEl.children).forEach(function(e){var t=e.getAttribute("data-plug-name");if(t===n.getName()){e.style.display="";r.plugList[t].onShow()}else{e.style.display="none";r.plugList[t].onHide()}});r.plugWrapEl.style.display="";a=n.getName();t.classList.add("active")})})}},{key:"insertContent",value:function e(t){if(document.selection){this.textareaEl.focus();document.selection.createRange().text=t;this.textareaEl.focus()}else if(this.textareaEl.selectionStart||this.textareaEl.selectionStart===0){var n=this.textareaEl.selectionStart;var r=this.textareaEl.selectionEnd;var a=this.textareaEl.scrollTop;this.setContent(this.textareaEl.value.substring(0,n)+t+this.textareaEl.value.substring(r,this.textareaEl.value.length));this.textareaEl.focus();this.textareaEl.selectionStart=n+t.length;this.textareaEl.selectionEnd=n+t.length;this.textareaEl.scrollTop=a}else{this.textareaEl.focus();this.textareaEl.value+=t}}},{key:"setContent",value:function e(t){this.textareaEl.value=t;this.saveContent();if(!!this.plugList&&!!this.plugList.preview){this.plugList.preview.updateContent()}this.adjustTextareaHeight()}},{key:"clearEditor",value:function e(){this.setContent("");this.cancelReply()}},{key:"getContent",value:function e(){var t=this.getContentOriginal();if(this.plugList&&this.plugList.emoticons){var n=this.plugList.emoticons;t=n.transEmoticonImageText(t)}return t}},{key:"getContentOriginal",value:function e(){return this.textareaEl.value||""}},{key:"getContentMarked",value:function e(){return this.artalk.marked(this.getContent())}},{key:"initBottomPart",value:function e(){this.initReply();this.initSubmit()}},{key:"initReply",value:function e(){this.replyComment=null;this.sendReplyEl=null}},{key:"setReply",value:function e(t){var n=this;if(this.replyComment!==null){this.cancelReply()}if(this.sendReplyEl===null){this.sendReplyEl=p["default"].createElement('<div class="artalk-send-reply"><span class="artalk-text"></span><span class="artalk-cancel" title="取消 AT">×</span></div>');this.sendReplyEl.querySelector(".artalk-text").innerText="@".concat(t.data.nick);this.sendReplyEl.querySelector(".artalk-cancel").addEventListener("click",function(){n.cancelReply()});this.textareaWrapEl.appendChild(this.sendReplyEl)}this.replyComment=t;this.artalk.ui.scrollIntoView(this.el);this.textareaEl.focus()}},{key:"cancelReply",value:function e(){if(this.sendReplyEl!==null){this.sendReplyEl.remove();this.sendReplyEl=null}this.replyComment=null}},{key:"getReplyComment",value:function e(){return this.replyComment}},{key:"initSubmit",value:function e(){var n=this;this.submitBtn.addEventListener("click",function(e){var t=e.currentTarget;n.submit()})}},{key:"submit",value:function e(){var r=this;if(this.getContent().trim()===""){this.textareaEl.focus();return}this.artalk.request("CommentAdd",{content:this.getContent(),nick:this.user.nick,email:this.user.email,link:this.user.link,rid:this.getReplyComment()===null?0:this.getReplyComment().data.id,page_key:this.artalk.conf.pageKey,password:this.user.password,captcha:h["default"].submitCaptchaVal||""},function(){r.artalk.ui.showLoading(r.el)},function(){r.artalk.ui.hideLoading(r.el)},function(e,t){var n=new u["default"](r.artalk.list,t.comment);if(r.getReplyComment()!==null){r.getReplyComment().setChild(n)}else{r.artalk.list.putComment(n)}r.artalk.ui.scrollIntoView(n.getElem());r.clearEditor()},function(e,t){if((0,a["default"])(t)==="object"&&t!==null&&typeof t.need_password==="boolean"&&t.need_password===true){h["default"].checkAction("管理员",function(){r.submit()})}else if((0,a["default"])(t)==="object"&&t!==null&&typeof t.need_captcha==="boolean"&&t.need_captcha===true){h["default"].submitCaptchaImgData=t.img_data;h["default"].checkAction("验证码",function(){r.submit()})}else{r.showNotify("评论失败，".concat(e),"e")}})}},{key:"showNotify",value:function e(t,n){this.artalk.ui.showNotify(t,n,this.notifyWrapEl)}},{key:"user",get:function e(){return this.artalk.user}}]);return n}(n["default"]);(e["default"]=k).displayName="Editor",y.exports=b.default})?e.apply(b,t):e)||(y.exports=n)},function(n,e){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r},function(e,t,n){},function(e,t,n){},function(a,i,e){var t,n,r;n=[i],void 0===(r="function"==typeof(t=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0;var u=window||{},d=navigator||{};function t(e){var r=e||d.userAgent;var t=this;var n={Trident:r.indexOf("Trident")>-1||r.indexOf("NET CLR")>-1,Presto:r.indexOf("Presto")>-1,WebKit:r.indexOf("AppleWebKit")>-1,Gecko:r.indexOf("Gecko/")>-1,Safari:r.indexOf("Safari")>-1,Chrome:r.indexOf("Chrome")>-1||r.indexOf("CriOS")>-1,IE:r.indexOf("MSIE")>-1||r.indexOf("Trident")>-1,Edge:r.indexOf("Edge")>-1,Firefox:r.indexOf("Firefox")>-1||r.indexOf("FxiOS")>-1,"Firefox Focus":r.indexOf("Focus")>-1,Chromium:r.indexOf("Chromium")>-1,Opera:r.indexOf("Opera")>-1||r.indexOf("OPR")>-1,Vivaldi:r.indexOf("Vivaldi")>-1,Yandex:r.indexOf("YaBrowser")>-1,Kindle:r.indexOf("Kindle")>-1||r.indexOf("Silk/")>-1,360:r.indexOf("360EE")>-1||r.indexOf("360SE")>-1,UC:r.indexOf("UC")>-1||r.indexOf(" UBrowser")>-1,QQBrowser:r.indexOf("QQBrowser")>-1,QQ:r.indexOf("QQ/")>-1,Baidu:r.indexOf("Baidu")>-1||r.indexOf("BIDUBrowser")>-1,Maxthon:r.indexOf("Maxthon")>-1,Sogou:r.indexOf("MetaSr")>-1||r.indexOf("Sogou")>-1,LBBROWSER:r.indexOf("LBBROWSER")>-1,"2345Explorer":r.indexOf("2345Explorer")>-1,TheWorld:r.indexOf("TheWorld")>-1,XiaoMi:r.indexOf("MiuiBrowser")>-1,Quark:r.indexOf("Quark")>-1,Qiyu:r.indexOf("Qiyu")>-1,Wechat:r.indexOf("MicroMessenger")>-1,Taobao:r.indexOf("AliApp(TB")>-1,Alipay:r.indexOf("AliApp(AP")>-1,Weibo:r.indexOf("Weibo")>-1,Douban:r.indexOf("com.douban.frodo")>-1,Suning:r.indexOf("SNEBUY-APP")>-1,iQiYi:r.indexOf("IqiyiApp")>-1,Windows:r.indexOf("Windows")>-1,Linux:r.indexOf("Linux")>-1||r.indexOf("X11")>-1,"Mac OS":r.indexOf("Macintosh")>-1,Android:r.indexOf("Android")>-1||r.indexOf("Adr")>-1,Ubuntu:r.indexOf("Ubuntu")>-1,FreeBSD:r.indexOf("FreeBSD")>-1,Debian:r.indexOf("Debian")>-1,"Windows Phone":r.indexOf("IEMobile")>-1||r.indexOf("Windows Phone")>-1,BlackBerry:r.indexOf("BlackBerry")>-1||r.indexOf("RIM")>-1,MeeGo:r.indexOf("MeeGo")>-1,Symbian:r.indexOf("Symbian")>-1,iOS:r.indexOf("like Mac OS X")>-1,"Chrome OS":r.indexOf("CrOS")>-1,WebOS:r.indexOf("hpwOS")>-1,Mobile:r.indexOf("Mobi")>-1||r.indexOf("iPh")>-1||r.indexOf("480")>-1,Tablet:r.indexOf("Tablet")>-1||r.indexOf("Pad")>-1||r.indexOf("Nexus 7")>-1};if(n.Mobile){n.Mobile=!(r.indexOf("iPad")>-1)}else if(u.showModalDialog&&u.chrome){n["360"]=true}var a={engine:["WebKit","Trident","Gecko","Presto"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Kindle","360","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["Mobile","Tablet"]};t.device="PC";t.language=function(){var e=d.browserLanguage||d.language;var t=e.split("-");if(t[1]){t[1]=t[1].toUpperCase()}return t.join("_")}();for(var i in a){for(var l=0;l<a[i].length;l++){var s=a[i][l];if(n[s]){t[i]=s}}}var o={Windows:function e(){var t=r.replace(/^.*Windows NT ([\d.]+);.*$/,"$1");var n={6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"};return n[t]||t},Android:function e(){return r.replace(/^.*Android ([\d.]+);.*$/,"$1")},iOS:function e(){return r.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function e(){return r.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function e(){return r.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function e(){return r.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function e(){return r.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}};t.osVersion="";if(o[t.os]){t.osVersion=o[t.os]();if(t.osVersion===r){t.osVersion=""}}var c={Safari:function e(){return r.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function e(){return r.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function e(){return r.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function e(){return r.replace(/^.*Edge\/([\d.]+).*$/,"$1")},Firefox:function e(){return r.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function e(){return r.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function e(){return r.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function e(){return r.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},Vivaldi:function e(){return r.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function e(){return r.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Kindle:function e(){return r.replace(/^.*Version\/([\d.]+).*$/,"$1")},Maxthon:function e(){return r.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function e(){return r.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function e(){return r.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function e(){return r.replace(/^.*BIDUBrowser[\s/]([\d.]+).*$/,"$1")},UC:function e(){return r.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function e(){return r.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},"2345Explorer":function e(){return r.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1")},TheWorld:function e(){return r.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function e(){return r.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Quark:function e(){return r.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function e(){return r.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function e(){return r.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},Taobao:function e(){return r.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function e(){return r.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function e(){return r.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function e(){return r.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function e(){return r.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function e(){return r.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")}};t.version="";if(c[t.browser]){t.version=c[t.browser]();if(t.version===r){t.version=""}}if(t.version.indexOf(".")){t.version=t.version.substring(0,t.version.indexOf("."))}if(t.browser==="Edge"){t.engine="EdgeHTML"}else if(t.browser==="Chrome"&&parseInt(t.version)>27){t.engine="Blink"}else if(t.browser==="Opera"&&parseInt(t.version)>12){t.engine="Blink"}else if(t.browser==="Yandex"){t.engine="Blink"}else if(t.browser===undefined){t.browser="Unknow App"}}function n(e){return new t(e)}var r=n;e["default"]=r,a.exports=i.default})?t.apply(i,n):t)||(a.exports=r)},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="artalk-comment-wrap" data-comment-id="<%= data.id %>">\n  <div class="artalk-comment">\n    <div class="artalk-avatar">\n      <a target="_blank" <% if(!!data.link){ %>href="<%= data.link %>"<% } %>>\n        <img src="<%= getGravatarUrl() %>">\n      </a>\n    </div>\n    <div class="artalk-content">\n      <div class="artalk-header">\n        <span class="artalk-nick">\n          <a target="_blank" <% if(!!data.link){ %>href="<%= data.link %>"<% } %>><%= data.nick %></a>\n        </span>\n        <% if (!!data.badge) { %>\n        <span class="artalk-badge"><%= data.badge %></span>\n        <% } %>\n        <span class="artalk-date"><%= timeAgo(new Date(data.date)) %></span>\n        <span class="artalk-ua"><%= getUserUaBrowser() %></span>\n        <span class="artalk-ua"><%= getUserUaOS() %></span>\n      </div>\n      <div class="artalk-body"><%- getContentMarked() %></div>\n      <div class="artalk-footer">\n        <div class="artalk-comment-actions">\n          <span data-comment-action="reply">回复</span>\n          <span data-comment-action="delete" class="artalk-hide" data-only-admin-show>删除</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',filename:"."};function rethrow(e,t,n,r){var a=t.split("\n"),i=Math.max(r-3,0),l=Math.min(a.length,r+3),s=a.slice(i,l).map(function(e,t){var n=t+i+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+r+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="artalk-comment-wrap" data-comment-id="',escape((__stack.lineno=1,data.id)),'">\n  <div class="artalk-comment">\n    <div class="artalk-avatar">\n      <a target="_blank" '),__stack.lineno=4,data.link&&(buf.push('href="',escape((__stack.lineno=4,data.link)),'"'),__stack.lineno=4),buf.push('>\n        <img src="',escape((__stack.lineno=5,getGravatarUrl())),'">\n      </a>\n    </div>\n    <div class="artalk-content">\n      <div class="artalk-header">\n        <span class="artalk-nick">\n          <a target="_blank" '),__stack.lineno=11,data.link&&(buf.push('href="',escape((__stack.lineno=11,data.link)),'"'),__stack.lineno=11),buf.push(">",escape((__stack.lineno=11,data.nick)),"</a>\n        </span>\n        "),__stack.lineno=13,data.badge&&(buf.push('\n        <span class="artalk-badge">',escape((__stack.lineno=14,data.badge)),"</span>\n        "),__stack.lineno=15),buf.push('\n        <span class="artalk-date">',escape((__stack.lineno=16,timeAgo(new Date(data.date)))),'</span>\n        <span class="artalk-ua">',escape((__stack.lineno=17,getUserUaBrowser())),'</span>\n        <span class="artalk-ua">',escape((__stack.lineno=18,getUserUaOS())),'</span>\n      </div>\n      <div class="artalk-body">',(__stack.lineno=20,getContentMarked()),'</div>\n      <div class="artalk-footer">\n        <div class="artalk-comment-actions">\n          <span data-comment-action="reply">回复</span>\n          <span data-comment-action="delete" class="artalk-hide" data-only-admin-show>删除</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n');return buf.join("")}catch(e){rethrow(e,__stack.input,__stack.filename,__stack.lineno)}}},function(h,m,g){var e,t,n;t=[m,g(26),g(0),g(2),g(3),g(4),g(5),g(32),g(6),g(7)],void 0===(n="function"==typeof(e=function(e,i,a,t,l,s,o,n,r,c){"use strict";var u=g(1);function d(r){return function(){var e=(0,o["default"])(r),t;if(f()){var n=(0,o["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,s["default"])(this,t)}}function f(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,i=u(i),a=u(a),t=u(t),l=u(l),s=u(s),o=u(o),r=u(r),c=u(c);var p=function(e){(0,l["default"])(r,e);var n=d(r);function r(e){var t;(0,a["default"])(this,r);t=n.call(this);t.editor=e;t.emoticons=t.artalk.conf.emoticons;t.initElem();return t}(0,t["default"])(r,[{key:"initElem",value:function e(){var i=this;this.elem=c["default"].createElement(g(33)(this));this.listWrapElem=this.elem.querySelector(".artalk-emoticons-list-wrap");this.typesElem=this.elem.querySelector(".artalk-emoticons-types");this.typesElem.querySelectorAll("span").forEach(function(e){e.addEventListener("click",function(e){var t=e.currentTarget;var n=t.getAttribute("data-key");if(n)i.openType(n)})});if(Object.keys(this.emoticons).length>0)this.openType(Object.keys(this.emoticons)[0]);this.listWrapElem.querySelectorAll(".artalk-emoticons-item").forEach(function(e){e.onclick=function(e){var t=e.currentTarget;var n=t.closest(".artalk-emoticons-list").getAttribute("data-input-type");var r=t.getAttribute("title");var a=t.getAttribute("data-content");if(n==="image"){i.editor.insertContent(":[".concat(r,"]"))}else{i.editor.insertContent(a)}}})}},{key:"openType",value:function e(t){Array.from(this.listWrapElem.children).forEach(function(e){if(e.getAttribute("data-key")!==t){e.style.display="none"}else{e.style.display=""}});this.typesElem.querySelectorAll("span.active").forEach(function(e){return e.classList.remove("active")});this.typesElem.querySelector('span[data-key="'.concat(t,'"]')).classList.add("active");this.changeListHeight()}},{key:"getName",value:function e(){return"emoticons"}},{key:"getBtnHtml",value:function e(){return"表情"}},{key:"getElem",value:function e(){return this.elem}},{key:"changeListHeight",value:function e(){}},{key:"onShow",value:function e(){var t=this;setTimeout(function(){t.changeListHeight()},30)}},{key:"onHide",value:function e(){this.elem.parentElement.style.height=""}},{key:"transEmoticonImageText",value:function e(a){Object.entries(this.emoticons).forEach(function(e){var t=(0,i["default"])(e,2),n=t[0],r=t[1];if(r.inputType!=="image")return;Object.entries(r.container).forEach(function(e){var t=(0,i["default"])(e,2),n=t[0],r=t[1];a=a.split(":[".concat(n,"]")).join("![".concat(n,"](").concat(r,") "))})});return a}}]);return r}(r["default"]);(e["default"]=p).displayName="EmoticonsPlug",h.exports=m.default})?e.apply(m,t):e)||(h.exports=n)},function(e,t,n){var r=n(27),a=n(28),i=n(29),l=n(31);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||l()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}},function(e,t,n){var r=n(30);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="artalk-editor-plug-emoticons">\r\n  <div class="artalk-emoticons-list-wrap">\r\n  <% for (var i in emoticons) { %>\r\n    <% var item = emoticons[i] %>\r\n    <div class="artalk-emoticons-list" data-key="<%- i %>" data-input-type="<%- item[\'inputType\'] %>" style="display: none;">\r\n      <% for (var name in item[\'container\']) { %>\r\n        <% var content = item[\'container\'][name]; %>\r\n        <span class="artalk-emoticons-item" title="<%- name %>" data-content="<%= content %>">\r\n          <% if (item[\'inputType\'] === \'image\') { %>\r\n            <img src="<%= content %>" alt="<%- name %>" />\r\n          <% } else { %>\r\n            <%= content %>\r\n          <% } %>\r\n        </span>\r\n      <% } %>\r\n    </div>\r\n  <% } %>\r\n  </div>\r\n  <div class="artalk-emoticons-types">\r\n  <% var types = Object.keys(emoticons); %>\r\n  <% for (var i in types) { %>\r\n    <span data-key="<%- types[i] %>"><%= types[i] %></span>\r\n  <% } %>\r\n  </div>\r\n</div>\r\n',filename:"."};function rethrow(e,t,n,r){var a=t.split("\n"),i=Math.max(r-3,0),l=Math.min(a.length,r+3),s=a.slice(i,l).map(function(e,t){var n=t+i+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+r+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})!function(){for(var e in buf.push('<div class="artalk-editor-plug-emoticons">\n  <div class="artalk-emoticons-list-wrap">\n  '),__stack.lineno=3,emoticons){buf.push("\n    "),__stack.lineno=4;var t=emoticons[e];for(var n in buf.push('\n    <div class="artalk-emoticons-list" data-key="',(__stack.lineno=5,e),'" data-input-type="',(__stack.lineno=5,t.inputType),'" style="display: none;">\n      '),__stack.lineno=6,t.container){buf.push("\n        "),__stack.lineno=7;var r=t.container[n];buf.push('\n        <span class="artalk-emoticons-item" title="',(__stack.lineno=8,n),'" data-content="',escape((__stack.lineno=8,r)),'">\n          '),__stack.lineno=9,"image"===t.inputType?(buf.push('\n            <img src="',escape((__stack.lineno=10,r)),'" alt="',(__stack.lineno=10,n),'" />\n          '),__stack.lineno=11):(buf.push("\n            ",escape((__stack.lineno=12,r)),"\n          "),__stack.lineno=13),buf.push("\n        </span>\n      "),__stack.lineno=15}buf.push("\n    </div>\n  "),__stack.lineno=17}buf.push('\n  </div>\n  <div class="artalk-emoticons-types">\n  '),__stack.lineno=20;var a=Object.keys(emoticons);for(var e in buf.push("\n  "),__stack.lineno=21,a)buf.push('\n    <span data-key="',(__stack.lineno=22,a[e]),'">',escape((__stack.lineno=22,a[e])),"</span>\n  "),__stack.lineno=23;buf.push("\n  </div>\n</div>\n")}();return buf.join("")}catch(e){rethrow(e,__stack.input,__stack.filename,__stack.lineno)}}},function(p,h,m){var e,t,n;t=[h,m(0),m(2),m(3),m(4),m(5),m(35),m(6),m(7)],void 0===(n="function"==typeof(e=function(e,a,t,i,l,s,n,r,o){"use strict";var c=m(1);function u(r){return function(){var e=(0,s["default"])(r),t;if(d()){var n=(0,s["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,l["default"])(this,t)}}function d(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,a=c(a),t=c(t),i=c(i),l=c(l),s=c(s),r=c(r),o=c(o);var f=function(e){(0,i["default"])(r,e);var n=u(r);function r(e){var t;(0,a["default"])(this,r);t=n.call(this);t.editor=e;t.binded=false;t.initElem();return t}(0,t["default"])(r,[{key:"initElem",value:function e(){this.elem=o["default"].createElement('<div class="artalk-editor-plug-preview"></div>');this.binded=false}},{key:"getName",value:function e(){return"preview"}},{key:"getBtnHtml",value:function e(){return'预览 <i title="Markdown is supported"><svg class="markdown" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg></i>'}},{key:"getElem",value:function e(){return this.elem}},{key:"onShow",value:function e(){var t=this;this.updateContent();if(!this.binded){var n=function e(){t.updateContent()};this.editor.textareaEl.addEventListener("input",n);this.editor.textareaEl.addEventListener("change",n);this.binded=true}}},{key:"onHide",value:function e(){}},{key:"updateContent",value:function e(){if(this.elem.style.display!=="none"){this.elem.innerHTML=this.editor.getContentMarked()}}}]);return r}(r["default"]);(e["default"]=f).displayName="PreviewPlug",p.exports=h.default})?e.apply(h,t):e)||(p.exports=n)},function(e,t,n){},function(h,m,g){var e,t,n;t=[m,g(0),g(2),g(3),g(4),g(5),g(6),g(7),g(12),g(9)],void 0===(n="function"==typeof(e=function(e,r,a,i,l,s,t,d,f,p){"use strict";var n=g(1);function o(r){return function(){var e=(0,s["default"])(r),t;if(c()){var n=(0,s["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,l["default"])(this,t)}}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,r=n(r),a=n(a),i=n(i),l=n(l),s=n(s),t=n(t),d=n(d),f=n(f);var u=function(e){(0,i["default"])(n,e);var t=o(n);function n(){(0,r["default"])(this,n);return t.apply(this,arguments)}(0,a["default"])(n,null,[{key:"checkAction",value:function e(l,s){var o=n.LIST[l];var t=d["default"].createElement();t.appendChild(o.body());var c=d["default"].createElement('<input id="check" type="'.concat(l==="管理员"?"password":"text",'" required placeholder="">'));t.appendChild(c);setTimeout(function(){c.focus()},80);var u=new f["default"]("checker-".concat((new Date).getTime()));u.setMaskClickHide(false);u.show();c.onkeyup=function(e){if(e.keyCode===13){e.preventDefault();u.getEl().querySelector('button[data-action="confirm"]').click()}};p.ArtalkInstance.ui.showDialog(u.getEl(),t,function(e,n){var r=c.value.trim();var t=n.innerText;var a=function e(t){n.innerText=t;n.classList.add("error")};var i=function e(){n.innerText=t;n.classList.remove("error")};p.ArtalkInstance.request(o.reqAct,o.reqObj(r),function(){n.innerText="加载中..."},function(){},function(e,t){o.onSuccess(e,t,r);u.dispose();s()},function(e,t){a(e);if(l==="验证码"){o.refresh(t.img_data)}var n=setTimeout(function(){i()},3e3);c.onfocus=function(){i();clearTimeout(n)}});return false},function(){u.dispose();return false})}}]);return n}(t["default"]);(e["default"]=u).displayName="Checker",u.LIST={"管理员":{body:function e(){return d["default"].createElement("<span>敲入密码来验证管理员身份：</span>")},reqAct:"AdminCheck",reqObj:function e(t){return{nick:p.ArtalkInstance.user.nick,email:p.ArtalkInstance.user.email,password:t}},onSuccess:function e(t,n,r){p.ArtalkInstance.user.isAdmin=true;p.ArtalkInstance.user.password=r;p.ArtalkInstance.editor.saveUser()}},"验证码":{body:function e(){var t=d["default"].createElement('<span><img class="artalk-captcha-img" src="'.concat(u.submitCaptchaImgData||"",'" alt="验证码">敲入验证码继续：</span>'));u.LIST["验证码"].elem=t;t.querySelector(".artalk-captcha-img").onclick=function(){u.LIST["验证码"].refresh()};return t},reqAct:"CaptchaCheck",reqObj:function e(t){return{captcha:t}},onSuccess:function e(t,n,r){u.submitCaptchaVal=r},refresh:function e(t){var n=u.LIST["验证码"].elem;var r=n.querySelector(".artalk-captcha-img");if(!t){p.ArtalkInstance.request("CaptchaCheck",{refresh:true},function(){},function(){},function(e,t){r.setAttribute("src",t.img_data)},function(){})}else{r.setAttribute("src",t)}}}},h.exports=m.default})?e.apply(m,t):e)||(h.exports=n)},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="artalk-editor">\r\n  <div class="artalk-editor-header">\r\n    <input name="nick" placeholder="昵称" class="artalk-nick" type="text" required="required">\r\n    <input name="email" placeholder="邮箱" class="artalk-email" type="email" required="required">\r\n    <input name="link" placeholder="网址 (https://)" class="artalk-link" type="url">\r\n  </div>\r\n  <div class="artalk-editor-textarea-wrap">\r\n    <textarea id="artalk-editor-textarea" class="artalk-editor-textarea" placeholder="<%= artalk.conf.placeholder %>"></textarea>\r\n  </div>\r\n  <div class="artalk-editor-plug-wrap" style="display: none;"></div>\r\n  <div class="artalk-editor-bottom">\r\n    <div class="artalk-editor-bottom-part artalk-left artalk-editor-plug-switcher-wrap"></div>\r\n    <div class="artalk-editor-bottom-part artalk-right">\r\n      <button type="button" class="artalk-send-btn">发送评论</button>\r\n    </div>\r\n  </div>\r\n  <div class="artalk-editor-notify-wrap"></div>\r\n</div>\r\n',filename:"."};function rethrow(e,t,n,r){var a=t.split("\n"),i=Math.max(r-3,0),l=Math.min(a.length,r+3),s=a.slice(i,l).map(function(e,t){var n=t+i+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+r+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="artalk-editor">\n  <div class="artalk-editor-header">\n    <input name="nick" placeholder="昵称" class="artalk-nick" type="text" required="required">\n    <input name="email" placeholder="邮箱" class="artalk-email" type="email" required="required">\n    <input name="link" placeholder="网址 (https://)" class="artalk-link" type="url">\n  </div>\n  <div class="artalk-editor-textarea-wrap">\n    <textarea id="artalk-editor-textarea" class="artalk-editor-textarea" placeholder="',escape((__stack.lineno=8,artalk.conf.placeholder)),'"></textarea>\n  </div>\n  <div class="artalk-editor-plug-wrap" style="display: none;"></div>\n  <div class="artalk-editor-bottom">\n    <div class="artalk-editor-bottom-part artalk-left artalk-editor-plug-switcher-wrap"></div>\n    <div class="artalk-editor-bottom-part artalk-right">\n      <button type="button" class="artalk-send-btn">发送评论</button>\n    </div>\n  </div>\n  <div class="artalk-editor-notify-wrap"></div>\n</div>\n');return buf.join("")}catch(e){rethrow(e,__stack.input,__stack.filename,__stack.lineno)}}},function(g,v,k){var e,t,n;t=[v,k(0),k(2),k(8),k(3),k(4),k(5),k(39),k(42),k(10),k(6),k(7)],void 0===(n="function"==typeof(e=function(e,r,a,i,l,s,o,c,t,u,n,d){"use strict";var f=k(1);function p(r){return function(){var e=(0,o["default"])(r),t;if(h()){var n=(0,o["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,s["default"])(this,t)}}function h(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,r=f(r),a=f(a),i=f(i),l=f(l),s=f(s),o=f(o),c=f(c),u=f(u),n=f(n),d=f(d);var m=function(e){(0,l["default"])(n,e);var t=p(n);function n(){var e;(0,r["default"])(this,n);e=t.call(this);e.comments=[];e.reqPageSize=15;e.isLoading=false;e.el=d["default"].createElement(k(43)((0,i["default"])(e)));e.artalk.el.appendChild(e.el);e.commentsWrapEl=e.el.querySelector(".artalk-list-comments-wrap");e.openSidebarBtnEl=e.el.querySelector('[data-action="open-sidebar"]');e.openSidebarBtnEl.addEventListener("click",function(){e.artalk.sidebar.show()});window.addEventListener("hashchange",function(){e.checkRedirectByUrlHash()});e.reqPageSize=e.artalk.conf.readMore?e.artalk.conf.readMore.pageSize||e.reqPageSize:e.reqPageSize;e.readMoreEl=e.el.querySelector(".artalk-list-read-more");e.readMoreLoadingEl=e.readMoreEl.querySelector(".artalk-loading-icon");e.readMoreTextEl=e.readMoreEl.querySelector(".artalk-text");e.readMoreEl.addEventListener("click",function(){e.readMore()});e.reqComments();return e}(0,a["default"])(n,[{key:"reqComments",value:function e(){var a=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(i===0){this.clearComments()}this.artalk.request("CommentGet",{page_key:this.artalk.conf.pageKey,limit:this.reqPageSize,offset:i},function(){a.isLoading=true;if(i===0)a.artalk.ui.showLoading();else a.readMoreBtnSetLoading(true)},function(){a.isLoading=false;if(i===0)a.artalk.ui.hideLoading();else a.readMoreBtnSetLoading(false)},function(e,t){a.data=Object.assign({},t);a.artalk.ui.setGlobalError(null);a.importCommentsByReqObj(t.comments);if(a.hasMoreComments)a.showReadMoreBtn();else a.hideReadMoreBtn();a.checkRedirectByUrlHash();if(i===0&&a.hasMoreComments){a.initScrollBottomAutoLoad()}},function(e,t){if(i===0){var n=d["default"].createElement("<span>".concat(e,"，无法获取评论列表数据<br/></span>"));var r=d["default"].createElement('<span style="cursor:pointer">点击重新获取</span>');r.addEventListener("click",function(){a.reqComments(0)});n.appendChild(r);a.artalk.ui.setGlobalError(n)}else{a.readMoreBtnShowErr("".concat(e," 获取失败"))}})}},{key:"importCommentsByReqObj",value:function e(i){var l=this,t;if(!Array.isArray(i)){throw new Error("putCommentsByObj 出错：参数非数组")}var n=[];i.forEach(function(e){if(e.id===0){throw new Error("黑人问号 ??? Comment 的 ID 怎么可能是 0 ?")}if(e.rid===0){n.push(new u["default"](l,e))}});var r=function r(a){i.forEach(function(e){if(e.rid===a.data.id){var t=new u["default"](l,e);a.setChild(t);t.playFadeInAnim();var n=function e(t){return i.find(function(e){return e.rid===t})!==null};if(n(t.data.id)){r(t)}}})};n.forEach(function(e){r(e)});(t=this.comments).push.apply(t,n);n.forEach(function(e){l.commentsWrapEl.appendChild(e.getElem());e.playFadeInAnim()});this.refreshUI()}},{key:"putComment",value:function e(t){this.commentsWrapEl.prepend(t.getElem());this.comments.unshift(t);t.playFadeInAnim();this.refreshUI()}},{key:"findComment",value:function e(t){var n=null;this.eachComment(this.comments,function(e){if(e.data.id===t){n=e;return false}return true});return n}},{key:"eachComment",value:function e(t,n){var r=this;if(t.length===0)return;t.every(function(e){if(n(e,t)===false)return false;r.eachComment(e.getChildren(),n);return true})}},{key:"deleteComment",value:function e(t){var n;if(typeof t==="number"){n=this.findComment(t);if(!n)throw Error("未找到评论 ".concat(t))}else n=t;n.getElem().remove();this.eachComment(this.comments,function(e,t){if(e===n){t.splice(t.indexOf(e),1);return false}return true})}},{key:"clearComments",value:function e(){this.commentsWrapEl.innerHTML="";this.comments=[];this.data=undefined}},{key:"refreshUI",value:function e(){this.el.querySelector(".artalk-comment-count-num").innerText=this.getCommentCount().toString();var t=this.commentsWrapEl.querySelector(".artalk-no-comment");if(this.comments.length<=0&&!t){t=d["default"].createElement('<div class="artalk-no-comment"></div>');t.innerText=this.artalk.conf.noComment;this.commentsWrapEl.appendChild(t)}if(this.comments.length>0&&t!==null){t.remove()}if(!!this.artalk.user.nick&&!!this.artalk.user.email){this.openSidebarBtnEl.style.display=""}else{this.openSidebarBtnEl.style.display="none"}if(this.artalk.user.isAdmin){this.el.querySelectorAll("[data-only-admin-show]").forEach(function(e){e.classList.remove("artalk-hide")})}else{this.el.querySelectorAll("[data-only-admin-show]").forEach(function(e){e.classList.add("artalk-hide")})}}},{key:"checkRedirectByUrlHash",value:function e(){var t=Number(d["default"].getLocationParmByName("artalk_comment"));if(!t){var n=window.location.hash.match(/#artalk-comment-([0-9]+)/);if(!n||!n[1]||Number.isNaN(Number(n[1])))return;t=Number(n[1])}var r=this.findComment(t);if(!r&&this.hasMoreComments){this.readMore();return}if(!r){return}this.artalk.ui.scrollIntoView(r.getElem(),false);setTimeout(function(){r.getElem().classList.add("artalk-flash-once")},800)}},{key:"readMore",value:function e(){var t=this.data.offset+this.reqPageSize;this.reqComments(t)}},{key:"showReadMoreBtn",value:function e(){this.readMoreEl.style.display=""}},{key:"hideReadMoreBtn",value:function e(){this.readMoreEl.style.display="none"}},{key:"readMoreBtnSetLoading",value:function e(t){this.showReadMoreBtn();this.readMoreLoadingEl.style.display=t?"":"none";this.readMoreTextEl.style.display=t?"none":""}},{key:"readMoreBtnShowErr",value:function e(t){var n=this;this.readMoreBtnSetLoading(false);var r=this.readMoreTextEl.innerText;this.readMoreTextEl.innerText=t;this.readMoreEl.classList.add("artalk-err");setTimeout(function(){n.readMoreTextEl.innerText=r;n.readMoreEl.classList.remove("artalk-err")},2e3)}},{key:"initScrollBottomAutoLoad",value:function e(){var t=this;if(!this.artalk.conf.readMore)return;if(!this.artalk.conf.readMore.autoLoad)return;document.addEventListener("scroll",function(){var e=t.el.querySelector(".artalk-list-comments-wrap > .artalk-comment-wrap:nth-last-child(3)");if(!e)return;if(!t.hasMoreComments)return;if(t.isLoading)return;if(t.artalk.ui.isVisible(e)){t.readMore()}})}},{key:"checkNickEmailIsAdmin",value:function e(t,n){if(!this.data||!this.data.admin_nicks||!this.data.admin_encrypted_emails)return false;return this.data.admin_nicks.indexOf(t)!==-1&&this.data.admin_encrypted_emails.find(function(e){return String(e).toLowerCase()===String((0,c["default"])(n)).toLowerCase()})}},{key:"getCommentCount",value:function e(){var t=0;this.eachComment(this.comments,function(){t++});return t}},{key:"hasMoreComments",get:function e(){if(!this.data)return false;return this.data.total_parents>this.data.offset+this.data.limit}}]);return n}(n["default"]);(e["default"]=m).displayName="List",g.exports=v.default})?e.apply(v,t):e)||(g.exports=n)},function(e,t,n){var v,k,y,b,x;v=n(40),k=n(13).utf8,y=n(41),b=n(13).bin,(x=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?b.stringToBytes(e):k.stringToBytes(e):y(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=v.bytesToWords(e),r=8*e.length,a=1732584193,i=-271733879,l=-1732584194,s=271733878,o=0;o<n.length;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8);n[r>>>5]|=128<<r%32,n[14+(64+r>>>9<<4)]=r;var c=x._ff,u=x._gg,d=x._hh,f=x._ii;for(o=0;o<n.length;o+=16){var p=a,h=i,m=l,g=s;a=c(a,i,l,s,n[o+0],7,-680876936),s=c(s,a,i,l,n[o+1],12,-389564586),l=c(l,s,a,i,n[o+2],17,606105819),i=c(i,l,s,a,n[o+3],22,-1044525330),a=c(a,i,l,s,n[o+4],7,-176418897),s=c(s,a,i,l,n[o+5],12,1200080426),l=c(l,s,a,i,n[o+6],17,-1473231341),i=c(i,l,s,a,n[o+7],22,-45705983),a=c(a,i,l,s,n[o+8],7,1770035416),s=c(s,a,i,l,n[o+9],12,-1958414417),l=c(l,s,a,i,n[o+10],17,-42063),i=c(i,l,s,a,n[o+11],22,-1990404162),a=c(a,i,l,s,n[o+12],7,1804603682),s=c(s,a,i,l,n[o+13],12,-40341101),l=c(l,s,a,i,n[o+14],17,-1502002290),a=u(a,i=c(i,l,s,a,n[o+15],22,1236535329),l,s,n[o+1],5,-165796510),s=u(s,a,i,l,n[o+6],9,-1069501632),l=u(l,s,a,i,n[o+11],14,643717713),i=u(i,l,s,a,n[o+0],20,-373897302),a=u(a,i,l,s,n[o+5],5,-701558691),s=u(s,a,i,l,n[o+10],9,38016083),l=u(l,s,a,i,n[o+15],14,-660478335),i=u(i,l,s,a,n[o+4],20,-405537848),a=u(a,i,l,s,n[o+9],5,568446438),s=u(s,a,i,l,n[o+14],9,-1019803690),l=u(l,s,a,i,n[o+3],14,-187363961),i=u(i,l,s,a,n[o+8],20,1163531501),a=u(a,i,l,s,n[o+13],5,-1444681467),s=u(s,a,i,l,n[o+2],9,-51403784),l=u(l,s,a,i,n[o+7],14,1735328473),a=d(a,i=u(i,l,s,a,n[o+12],20,-1926607734),l,s,n[o+5],4,-378558),s=d(s,a,i,l,n[o+8],11,-2022574463),l=d(l,s,a,i,n[o+11],16,1839030562),i=d(i,l,s,a,n[o+14],23,-35309556),a=d(a,i,l,s,n[o+1],4,-1530992060),s=d(s,a,i,l,n[o+4],11,1272893353),l=d(l,s,a,i,n[o+7],16,-155497632),i=d(i,l,s,a,n[o+10],23,-1094730640),a=d(a,i,l,s,n[o+13],4,681279174),s=d(s,a,i,l,n[o+0],11,-358537222),l=d(l,s,a,i,n[o+3],16,-722521979),i=d(i,l,s,a,n[o+6],23,76029189),a=d(a,i,l,s,n[o+9],4,-640364487),s=d(s,a,i,l,n[o+12],11,-421815835),l=d(l,s,a,i,n[o+15],16,530742520),a=f(a,i=d(i,l,s,a,n[o+2],23,-995338651),l,s,n[o+0],6,-198630844),s=f(s,a,i,l,n[o+7],10,1126891415),l=f(l,s,a,i,n[o+14],15,-1416354905),i=f(i,l,s,a,n[o+5],21,-57434055),a=f(a,i,l,s,n[o+12],6,1700485571),s=f(s,a,i,l,n[o+3],10,-1894986606),l=f(l,s,a,i,n[o+10],15,-1051523),i=f(i,l,s,a,n[o+1],21,-2054922799),a=f(a,i,l,s,n[o+8],6,1873313359),s=f(s,a,i,l,n[o+15],10,-30611744),l=f(l,s,a,i,n[o+6],15,-1560198380),i=f(i,l,s,a,n[o+13],21,1309151649),a=f(a,i,l,s,n[o+4],6,-145523070),s=f(s,a,i,l,n[o+11],10,-1120210379),l=f(l,s,a,i,n[o+2],15,718787259),i=f(i,l,s,a,n[o+9],21,-343485551),a=a+p>>>0,i=i+h>>>0,l=l+m>>>0,s=s+g>>>0}return v.endian([a,i,l,s])})._ff=function(e,t,n,r,a,i,l){var s=e+(t&n|~t&r)+(a>>>0)+l;return(s<<i|s>>>32-i)+t},x._gg=function(e,t,n,r,a,i,l){var s=e+(t&r|n&~r)+(a>>>0)+l;return(s<<i|s>>>32-i)+t},x._hh=function(e,t,n,r,a,i,l){var s=e+(t^n^r)+(a>>>0)+l;return(s<<i|s>>>32-i)+t},x._ii=function(e,t,n,r,a,i,l){var s=e+(n^(t|~r))+(a>>>0)+l;return(s<<i|s>>>32-i)+t},x._blocksize=16,x._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=v.wordsToBytes(x(e,t));return t&&t.asBytes?n:t&&t.asString?b.bytesToString(n):v.bytesToHex(n)}},function(e,t){var i,n;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?t.push(i.charAt(r>>>6*(3-a)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push((i.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|i.indexOf(e.charAt(n))>>>6-2*r);return t}},e.exports=n},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer);var t}},function(e,t,n){},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="artalk-list">\n  <div class="artalk-list-header">\n    <div class="artalk-comment-count">\n      <span class="artalk-comment-count-num">0</span>\n      条评论\n    </div>\n    <div class="artalk-right-action">\n      <span data-action="open-sidebar" style="display: none;">通知中心</span>\n    </div>\n  </div>\n  <div class="artalk-list-body">\n    <div class="artalk-list-comments-wrap">\n    </div>\n    <div class="artalk-list-read-more" style="display: none;">\n      <div class="artalk-loading-icon" style="display: none;"></div>\n      <span class="artalk-text">查看更多</span>\n    </div>\n  </div>\n  <div class="artalk-list-footer">\n    <div class="artalk-copyright">\n      Powered By <a href="https://artalk.js.org" target="_blank" title="qwqcode/Artalk v<%= ARTALK_VERSION %>">Artalk</a>\n    </div>\n  </div>\n</div>\n',filename:"."};function rethrow(e,t,n,r){var a=t.split("\n"),i=Math.max(r-3,0),l=Math.min(a.length,r+3),s=a.slice(i,l).map(function(e,t){var n=t+i+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+r+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="artalk-list">\n  <div class="artalk-list-header">\n    <div class="artalk-comment-count">\n      <span class="artalk-comment-count-num">0</span>\n      条评论\n    </div>\n    <div class="artalk-right-action">\n      <span data-action="open-sidebar" style="display: none;">通知中心</span>\n    </div>\n  </div>\n  <div class="artalk-list-body">\n    <div class="artalk-list-comments-wrap">\n    </div>\n    <div class="artalk-list-read-more" style="display: none;">\n      <div class="artalk-loading-icon" style="display: none;"></div>\n      <span class="artalk-text">查看更多</span>\n    </div>\n  </div>\n  <div class="artalk-list-footer">\n    <div class="artalk-copyright">\n      Powered By <a href="https://artalk.js.org" target="_blank" title="qwqcode/Artalk v',escape((__stack.lineno=21,"1.0.4")),'">Artalk</a>\n    </div>\n  </div>\n</div>\n');return buf.join("")}catch(e){rethrow(e,__stack.input,__stack.filename,__stack.lineno)}}},function(g,v,k){var e,t,n;t=[v,k(0),k(2),k(8),k(3),k(4),k(5),k(10),k(45),k(6),k(7),k(12)],void 0===(n="function"==typeof(e=function(e,r,a,i,l,s,o,c,t,n,u,d){"use strict";var f=k(1);function p(r){return function(){var e=(0,o["default"])(r),t;if(h()){var n=(0,o["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,s["default"])(this,t)}}function h(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,r=f(r),a=f(a),i=f(i),l=f(l),s=f(s),o=f(o),c=f(c),n=f(n),u=f(u),d=f(d);var m=function(e){(0,l["default"])(n,e);var t=p(n);function n(){var e;(0,r["default"])(this,n);e=t.call(this);e.el=u["default"].createElement(k(46)((0,i["default"])(e)));e.layer=new d["default"]("sidebar",e.el);e.contentEl=e.el.querySelector(".artalk-sidebar-content");e.el.querySelector(".artalk-sidebar-close").addEventListener("click",function(){e.hide()});return e}(0,a["default"])(n,[{key:"show",value:function e(){var n=this;this.layer.show();this.contentEl.scrollTo(0,0);setTimeout(function(){n.el.style.transform="translate(0, 0)"},20);this.artalk.request("CommentReplyGet",{nick:this.artalk.user.nick,email:this.artalk.user.email},function(){n.artalk.ui.showLoading(n.contentEl)},function(){n.artalk.ui.hideLoading(n.contentEl)},function(e,t){n.contentEl.innerHTML="";if(Array.isArray(t.reply_comments)){t.reply_comments.forEach(function(e){n.putComment(e)})}},function(e,t){})}},{key:"hide",value:function e(){this.el.style.transform="";this.layer.hide()}},{key:"putComment",value:function e(t){var n=new c["default"](null,t);n.elem.querySelector('[data-comment-action="reply"]').remove();n.elem.style.cursor="pointer";n.elem.addEventListener("mouseover",function(){n.elem.style.backgroundColor="#F4F4F4"});n.elem.addEventListener("mouseout",function(){n.elem.style.backgroundColor=""});n.elem.addEventListener("click",function(e){e.preventDefault();window.location.href="".concat(t.page_key,"#artalk-comment-").concat(n.data.id)});this.contentEl.appendChild(n.getElem())}}]);return n}(n["default"]);(e["default"]=m).displayName="Sidebar",g.exports=v.default})?e.apply(v,t):e)||(g.exports=n)},function(e,t,n){},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="artalk-sidebar">\r\n  <div class="artalk-sidebar-inner">\r\n    <div class="artalk-sidebar-title">Artalk · 通知中心</div>\r\n    <div class="artalk-sidebar-close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg></div>\r\n    <div class="artalk-sidebar-content"></div>\r\n  </div>\r\n</div>\r\n',filename:"."};function rethrow(e,t,n,r){var a=t.split("\n"),i=Math.max(r-3,0),l=Math.min(a.length,r+3),s=a.slice(i,l).map(function(e,t){var n=t+i+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+r+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="artalk-sidebar">\n  <div class="artalk-sidebar-inner">\n    <div class="artalk-sidebar-title">Artalk · 通知中心</div>\n    <div class="artalk-sidebar-close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg></div>\n    <div class="artalk-sidebar-content"></div>\n  </div>\n</div>\n');return buf.join("")}catch(e){rethrow(e,__stack.input,__stack.filename,__stack.lineno)}}},function(f,p,h){var e,t,n;t=[p,h(0),h(2),h(3),h(4),h(5),h(6),h(7)],void 0===(n="function"==typeof(e=function(e,r,a,i,l,s,t,u){"use strict";var n=h(1);function o(r){return function(){var e=(0,s["default"])(r),t;if(c()){var n=(0,s["default"])(this).constructor;t=Reflect.construct(e,arguments,n)}else{t=e.apply(this,arguments)}return(0,l["default"])(this,t)}}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}Object.defineProperty(e,"__esModule",{value:true}),e["default"]=void 0,r=n(r),a=n(a),i=n(i),l=n(l),s=n(s),t=n(t),u=n(u);var d=function(e){(0,i["default"])(n,e);var t=o(n);function n(){var e;(0,r["default"])(this,n);e=t.call(this);e.el=e.artalk.el;return e}(0,a["default"])(n,[{key:"showLoading",value:function e(t){if(!t)t=this.el;var n=t.querySelector(".artalk-loading");if(!n){n=u["default"].createElement('<div class="artalk-loading" style="display: none;"><div class="artalk-loading-spinner"><svg viewBox="25 25 50 50"><circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div></div>');t.appendChild(n)}n.style.display=""}},{key:"hideLoading",value:function e(t){if(!t)t=this.el;var n=t.querySelector(".artalk-loading");n.style.display="none"}},{key:"setGlobalError",value:function e(t){var n=this.el.querySelector(".artalk-error-layer");if(t===null){if(n!==null)n.remove();return}if(!n){n=u["default"].createElement('<div class="artalk-error-layer"><span class="artalk-error-title">Artalk Error</span><span class="artalk-error-text"></span></div>');this.el.appendChild(n)}var r=n.querySelector(".artalk-error-text");r.innerHTML="";if(t===null)return;if(t instanceof HTMLElement){r.appendChild(t)}else{r.innerText=t}}},{key:"showDialog",value:function e(t,n,r,a){var i=u["default"].createElement('<div class="artalk-layer-dialog-wrap"><div class="artalk-layer-dialog"><div class="artalk-layer-dialog-content"></div><div class="artalk-layer-dialog-action"></div>');t.appendChild(i);var l=i.querySelector(".artalk-layer-dialog-action");var s=function e(n){return function(e){var t=n(i,e.currentTarget);if(t===undefined||t===true){i.remove()}}};if(typeof r==="function"){var o=u["default"].createElement('<button data-action="confirm">确定</button>');o.onclick=s(r);l.appendChild(o)}if(typeof a==="function"){var c=u["default"].createElement('<button data-action="cancel">取消</button>');c.onclick=s(a);l.appendChild(c)}i.querySelector(".artalk-layer-dialog-content").appendChild(n)}},{key:"showNotify",value:function e(t,n,r){var a={s:"#57d59f",e:"#ff6f6c",w:"#ffc721",i:"#2ebcfc"};var i=3e3;var l=u["default"].createElement('<div class="artalk-notify artalk-fade-in" style="background-color: '.concat(a[n],'"><span class="artalk-notify-content"></span></div>'));var s=l.querySelector(".artalk-notify-content");s.innerHTML=u["default"].htmlEncode(t).replace("\n","<br/>");r.appendChild(l);var o=function e(){l.classList.add("artalk-fade-out");setTimeout(function(){l.remove()},200)};var c;if(i>0){c=setTimeout(function(){o()},i)}l.addEventListener("click",function(){o();clearTimeout(c)})}},{key:"scrollIntoView",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(this.isVisible(t))return;var r=u["default"].getOffset(t).top+u["default"].getHeight(t)/2-document.documentElement.clientHeight/2;if(n){window.scroll({top:r>0?r:0,left:0,behavior:"smooth"})}else{window.scroll(0,r>0?r:0)}}},{key:"isVisible",value:function e(t){var n=window.scrollY;var r=n+document.documentElement.clientHeight;var a=u["default"].getOffset(t).top;var i=a+t.offsetHeight;return i<=r&&a>=n}}]);return n}(t["default"]);(e["default"]=d).displayName="Ui",f.exports=p.default})?e.apply(p,t):e)||(f.exports=n)},function(e){e.exports=JSON.parse('{"颜表情":{"inputType":"emoticon","container":{"Hi":"|´・ω・)ノ","开心":"ヾ(≧∇≦*)ゝ","星星眼":"(☆ω☆)","掀桌":"（╯‵□′）╯︵┴─┴","流口水":"￣﹃￣","捂脸":"(/ω＼)","给跪":"∠( ᐛ 」∠)＿","蛤？":"(๑•̀ㅁ•́ฅ)","斜眼":"→_→","加油":"୧(๑•̀⌄•́๑)૭","有木有WiFi":"٩(ˊᗜˋ*)و","前方高能预警":"(ノ°ο°)ノ","我从未见过如此厚颜无耻之人":"(´இ皿இ｀)","吓死宝宝惹":"⌇●﹏●⌇","已阅留爪":"(ฅ´ω`ฅ)","去吧大师球":"(╯°A°)╯︵○○○","太萌惹":"φ(￣∇￣o)","咦咦咦":"ヾ(´･ ･｀｡)ノ\\"","气呼呼":"( ง ᵒ̌皿ᵒ̌)ง⁼³₌₃","我受到了惊吓":"(ó﹏ò｡)","什么鬼":"Σ(っ °Д °;)っ","摸摸头":"( ,,´･ω･)ﾉ\\"(´っω･｀｡)","无奈":"╮(╯▽╰)╭ ","脸红":"o(*////▽////*)q ","悲哀":"＞﹏＜","静静地看着你":"( ๑´•ω•) \\"(ㆆᴗㆆ)","不要哇":"(｡•ˇ‸ˇ•｡)"}},"Emoji":{"inputType":"emoji","container":["😀","😃","😄","😁","😆","😅","😂","😊","😉","👀","😌","😍","😘","😋","😜","😝","😎","😏","😒","😟","😕","😖","😫","😩","😠","😲","😵","😳","😱","😨","😢","😭","😷","✋","✌️","👊","👋","👏","👍","👎","❤️","🎉","🚀"]},"滑稽":{"inputType":"image","container":{"原味稽":"https://i.loli.net/2019/02/01/5c53d26b7ae13.png","还是算了":"https://i.loli.net/2020/04/30/riySFlu75fJdG4p.png","蓝纹稽":"https://i.loli.net/2020/04/30/jyh5IVzpqXsHuvU.jpg","随稽应变":"https://i.loli.net/2017/02/05/5896e6ec1d528.jpg","蠕动":"https://i.loli.net/2017/02/05/5896e9712a3c1.gif","束手无稽":"https://i.loli.net/2020/04/30/dF8sTOpgomj7qf5.jpg","微笑默叹以为妙绝":"https://i.loli.net/2019/02/01/5c53daa84f24a.png","喝嘤料":"https://i.loli.net/2019/02/01/5c53d63d8c6af.jpg","暗中观察":"https://i.loli.net/2019/02/01/5c53dd21a2e7b.jpg","高兴":"https://i.loli.net/2019/02/01/5c53d1b9e5f38.jpg","惊稽":"https://i.loli.net/2019/02/01/5c53d1e2ad89f.jpg","可这和我的帅有什么关系":"https://i.loli.net/2017/02/05/5896ece29a8e0.jpg","狱稽":"https://i.loli.net/2020/04/30/cUEQrVYGFiDjqhy.jpg","梆":"https://i.loli.net/2020/04/30/TlAGjm6IvJSMVpq.jpg","吃鱼摆摆":"https://i.loli.net/2017/02/05/5896ec2cb7f39.gif","跃跃欲试 3":"https://i.loli.net/2017/02/05/5896ece2ac5a2.gif","突然滑稽":"https://i.loli.net/2019/02/01/5c53cf2a457f1.jpg","扶墙怂":"https://i.loli.net/2017/02/05/5896ece2ab57a.jpg","阔以":"https://i.loli.net/2020/04/30/7EYyq1TcBKa3eQ2.jpg","不得行":"https://i.loli.net/2020/04/30/KoqBGauX7TEfeyn.jpg","少儿不宜":"https://i.loli.net/2020/04/30/nt2ZWRozUNjBxAK.jpg","稽日可期":"https://i.loli.net/2020/04/30/FmfYcoMJesi2Ddq.jpg","哎":"https://i.loli.net/2020/04/30/ps7PTIANgSErqnU.jpg","别看丢人":"https://i.loli.net/2019/02/01/5c53d4f89ea29.jpg","地稽 2":"https://i.loli.net/2019/02/01/5c53dbae85687.jpg","地稽":"https://i.loli.net/2020/04/30/BnTMX35EPxleVmA.jpg","老阔有点扣":"https://i.loli.net/2020/04/30/fhDXbA9T1zJPlKk.gif","啊哈哈":"https://i.loli.net/2019/02/01/5c53dc2947d84.jpg","无稽可奈":"https://i.loli.net/2020/04/30/UyxTzB2fS3LtH7Q.jpg","老实巴交":"https://i.loli.net/2020/04/30/7DgSoyqwtYBxchE.jpg","紧张":"https://i.loli.net/2017/02/05/5896e8a408253.jpg","摇摆稽":"https://i.loli.net/2019/02/01/5c53d1904dcb2.gif","又不是不能用":"https://i.loli.net/2019/02/01/5c53ce897ab55.jpg","一时滑稽":"https://i.loli.net/2019/02/01/5c53d5d28e22c.jpg","无法接受":"https://i.loli.net/2019/02/01/5c53cee8422fc.jpg","嘤雄豪稽":"https://i.loli.net/2020/04/30/sbtw6o7iKaM4Nmq.jpg","相视双稽":"https://i.loli.net/2019/02/01/5c53d5a093149.jpg","稽皮发麻":"https://i.loli.net/2017/02/05/5896ece2a019f.jpg","地稽 3":"https://i.loli.net/2019/02/01/5c53dbe510bcf.jpg","地稽委屈":"https://i.loli.net/2019/02/01/5c53d76e250da.jpg","地稽抚摸":"https://i.loli.net/2020/04/30/cavZ6nNzMPimLy7.gif","地稽捶打":"https://i.loli.net/2020/04/30/vFVPynXaHR5sitk.gif","绝望":"https://i.loli.net/2019/02/01/5c53dc0ba2303.jpg","气稽败坏":"https://i.loli.net/2019/02/01/5c53d216f3c60.jpg","当场去世":"https://i.loli.net/2020/04/30/sogxHMTFWbE2lrP.jpg","喝酒":"https://i.loli.net/2019/02/01/5c53d78c3f4a5.jpg","老衲摆摊算命":"https://i.loli.net/2017/02/05/5896ece29d8a5.gif","老哥，稳":"https://i.loli.net/2017/02/05/5896ece29ebb0.jpg","自闭稽":"https://i.loli.net/2019/02/01/5c53d6603ee24.jpg","无话可说":"https://i.loli.net/2019/02/01/5c53d6a77b7e4.jpg","跃跃欲试":"https://i.loli.net/2017/02/05/5896e9710dfd5.jpg","跃跃欲试 2":"https://i.loli.net/2019/02/01/5c53dcc057350.jpg","满脑子骚操作":"https://i.loli.net/2020/04/30/xJXcUtO2BryHAsa.gif","稽之舞":"https://i.loli.net/2019/02/01/5c53de1a4d14d.gif","将稽就稽":"https://i.loli.net/2020/04/30/KVwf8qCrZts6WOT.gif"}}}')}],e={},f.m=d,f.c=e,f.d=function(e,t,n){f.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(t,e){if(1&e&&(t=f(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(f.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)f.d(n,r,function(e){return t[e]}.bind(null,r));return n},f.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(t,"a",t),t},f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.p="",f(f.s=14).default;function f(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return d[t].call(n.exports,n,n.exports,f),n.l=!0,n.exports}var d,e});